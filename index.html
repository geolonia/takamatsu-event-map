<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>たかまつエリアマップ</title>
  <link rel="stylesheet" href="./style.css">
  <script src="https://kit.fontawesome.com/5a581d1c6f.js" crossorigin="anonymous"></script>
</head>

<body>
  <header>
    <div class="header-title">たかまつエリアマップ</div>
    <div class="hamburger-menu">
      <input type="checkbox" id="menu-btn-check">
      <label for="menu-btn-check" class="menu-btn"><span></span></label>
      <div class="menu-content">
        <div class="menu-header">
          <div class="menu-title">MENU</div>
        </div>
        <ul>
          <li>
            <details>
              <summary>個人情報の取り扱いについて</summary>
              <p>当サイトでは、個人情報の収集や利用又は提供、管理について「高松市個人情報保護条例」に基づき、次のとおり適切に取り扱います。</p>

              <p>個人情報とは</p>
              <p>
                個人に関する情報であって、当該情報に含まれる氏名、生年月日その他の記述等により特定の個人を識別することができるもの（他の情報と照合することができ、それにより特定の個人を識別することができることとなるものを含む。）をいいます。
              </p>

              <p>収集する情報の範囲</p>
              <p>当サイトで収集する情報の範囲は、次のとおりとします。</p>
            </details>
          </li>
          <li>
            <details>
              <summary>メニュー2</summary>
              <p>メニュー2のコンテンツ</p>
            </details>
          </li>
          <li>
            <details>
              <summary>メニュー3</summary>
              <p>メニュー3のコンテンツ</p>
            </details>
          </li>
        </ul>
        <div class="menu-footer">
          <div class="social-icons">
            <div class="social-icons-title">SOCIAL</div>
            <ul>
              <li>
                <a href="" target="_blank" rel="noopener noreferrer">
                  <img src="./img/facebook.png" alt="facebook">
                </a>
              </li>
              <li>
                <a href="" target="_blank" rel="noopener noreferrer">
                  <img src="./img/twitter.png" alt="twitter">
                </a>
              </li>
              <li>
                <a href="" target="_blank" rel="noopener noreferrer">
                  <img src="./img/line.png" alt="line">
                </a>
              </li>
              <li>
                <a href="" target="_blank" rel="noopener noreferrer">
                  <img src="./img/instagram.png" alt="instagram">
                </a>
              </li>
            </ul>
          </div>
          <hr class="divider">
          </hr>
          <div class="brand">
            <img class="logo" src="./img/logo.svg" alt="logo">
            <div class="brand-title">
              <span>Takamatsu City</span>
              <p>もっと高松</p>
            </div>
          </div>
          <div class="copy-right">Copyright © Takamatsu City, All rights reserved.</div>
        </div>
      </div>
    </div>
  </header>
  <div id="banner">
    <label id="banner-close"><span></span></label>
    <a href="" target="_blank" rel="noopener noreferrer">
      <div class="banner-title">BOULANGERIE PATISSERIE Risum <br/>（ブーランジェリー パティスリー リズム）</div>
      <div class="banner-period">2022.05.05-2022.05.05</div>
      <div class="banner-description">一般社団法人「街角に音楽を@香川」主催の同イベント。2015（平成27）年から毎年開催し、サンポート高松をはじめ、市内各所で音楽ステージを開いてきた。</div>
    </a>
  </div>
  <div id="map" data-navigation-control="off"></div>
  <div id="list">
    <label id="list-close"><span></span></label>
    <div id="list-content">
      <div class="list-header">
        <i class="fa-sharp fa-solid fa-list"></i>
        <div class="title">イベントリスト</div>
      </div>
    </div>
  </div>
  <script type="text/javascript" src="https://cdn.geolonia.com/v1/embed?geolonia-api-key=YOUR-API-KEY"></script>
  <script>
    const map = new geolonia.Map({
      container: 'map',
      zoom: 12.5,
      center: [134.05682, 34.33293],
      style: 'geolonia/basic',
    });

    map.on('load', async () => {

      const data = await fetch('./data.geojson')
      const geojson = await data.json()

      geojson.features.forEach((item) => {
        const properties = item.properties;

        const marker = new geolonia.Marker({
          color: '#ff0000',
          draggable: false,
        })
          .setLngLat(item.geometry.coordinates)
          .addTo(map);
      });
    });

    const closeButton = document.getElementById('banner-close');
    closeButton.addEventListener('click', () => {
      document.getElementById('banner').style.display = 'none';
    });

    const list = document.getElementById('list');
    const listCloseButton = document.getElementById('list-close');

    list.addEventListener('click', () => {
      list.style.height = '50vh';
      listCloseButton.style.display = 'flex';
    });

    listCloseButton.addEventListener('click', () => {
      list.style.height = '10vh';
      listCloseButton.style.display = 'none';
      event.stopPropagation();
    });

  </script>
</body>

</html>